(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var ArkMainDialog, eventManager, eventNames;

eventManager = require('../event/ArkEventManager.coffee');

eventNames = require('../event/ArkEventNames.coffee');

ArkMainDialog = (function() {
  function ArkMainDialog() {}

  ArkMainDialog.prototype.onDidLoadFromCCB = function() {
    var textFieldLabel1, textFieldLabel2;
    textFieldLabel1 = new ccui.TextField("0000.00", 25);
    this.rootNode.addChild(textFieldLabel1);
    textFieldLabel1.setPosition(this.ccb_textField_1.getPosition());
    textFieldLabel2 = new ccui.TextField("0000.00", 25);
    this.rootNode.addChild(textFieldLabel2);
    textFieldLabel2.setPosition(this.ccb_textField_2.getPosition());
  };

  cc.BuilderReader.registerController("ArkMainDialog", new ArkMainDialog());

  return ArkMainDialog;

})();

module.exports = cc.BuilderReader.load("res/main.ccbi");


},{"../event/ArkEventManager.coffee":3,"../event/ArkEventNames.coffee":4}],2:[function(require,module,exports){
var GameLogic, UserData, eventManager, eventNames, sceneManager;

sceneManager = require('../tools/ArkSceneManager.coffee');

eventManager = require('../event/ArkEventManager.coffee');

eventNames = require('../event/ArkEventNames.coffee');

UserData = require('../model/ArkUserData.coffee');

GameLogic = (function() {
  function GameLogic() {}

  GameLogic.prototype.init = function() {
    this._userData = new UserData();
    return this._registerEvents();
  };

  GameLogic.prototype._registerEvents = function() {
    eventManager.listen(eventNames.GAME_START, (function(_this) {
      return function() {
        _this._userData.setScore(0);
        _this._userData.setCount(20);
        return _this._GameStart();
      };
    })(this));
    eventManager.listen(eventNames.GAME_END, (function(_this) {
      return function() {
        var dialogNode;
        sceneManager.removeTopLayer();
        dialogNode = GameEndDialog.showDialog();
        sceneManager.addLayerToScene(dialogNode);
        return dialogNode.controller.init(_this._userData.getScore());
      };
    })(this));
    return eventManager.listen(eventNames.GAME_NEXT_LEVEL, (function(_this) {
      return function() {
        sceneManager.removeTopLayer();
        _this._userData.setCount(20);
        return _this._GameStart();
      };
    })(this));
  };

  GameLogic.prototype._GameStart = function() {
    var dialogNode;
    dialogNode = GameDialog.showDialog();
    sceneManager.addLayerToScene(dialogNode);
    return dialogNode.controller.init(this._userData);
  };

  return GameLogic;

})();

module.exports = GameLogic;


},{"../event/ArkEventManager.coffee":3,"../event/ArkEventNames.coffee":4,"../model/ArkUserData.coffee":6,"../tools/ArkSceneManager.coffee":7}],3:[function(require,module,exports){
var EventManager;

EventManager = {
  send: function(eventName, data) {
    var event;
    event = new cc.EventCustom(eventName);
    if (data !== null) {
      event.setUserData(data);
    }
    return cc.eventManager.dispatchEvent(event);
  },
  listen: function(eventName, listenFunc, nodeOrPriority) {
    var ccListener;
    if (nodeOrPriority == null) {
      nodeOrPriority = 1;
    }
    ccListener = cc.EventListener.create({
      event: cc.EventListener.CUSTOM,
      eventName: eventName,
      callback: function(event) {
        return listenFunc(event.getUserData(), event);
      }
    });
    return cc.eventManager.addListener(ccListener, nodeOrPriority);
  }
};

module.exports = EventManager;


},{}],4:[function(require,module,exports){
var EventNames;

EventNames = {
  GAME_START: "game.start",
  GAME_END: "game.end",
  GAME_NEXT_LEVEL: "game.next.level"
};

module.exports = EventNames;


},{}],5:[function(require,module,exports){
cc.game.onStart = function() {
  var GameLogic, gameDialog, gameLogicObj, sceneManager;
  cc.view.adjustViewPort(true);
  cc.view.setDesignResolutionSize(640, 1136, cc.ResolutionPolicy.SHOW_ALL);
  cc.view.resizeWithBrowserSize(true);
  cc.BuilderReader.setResourcePath("res/");
  sceneManager = require("./tools/ArkSceneManager.coffee");
  sceneManager.init();
  gameDialog = require('./ccbView/ArkMainDialog.coffee');
  sceneManager.addLayerToScene(gameDialog);
  GameLogic = require('./control/ArkGameLogic.coffee');
  gameLogicObj = new GameLogic();
  return gameLogicObj.init();
};

cc.game.run();


},{"./ccbView/ArkMainDialog.coffee":1,"./control/ArkGameLogic.coffee":2,"./tools/ArkSceneManager.coffee":7}],6:[function(require,module,exports){
var UserData;

UserData = (function() {
  function UserData() {
    this._score = 0;
    this._count = 0;
  }

  UserData.prototype.setScore = function(_score) {
    this._score = _score;
  };

  UserData.prototype.getScore = function() {
    return this._score;
  };

  UserData.prototype.setCount = function(_count) {
    this._count = _count;
  };

  UserData.prototype.getCount = function() {
    return this._count;
  };

  return UserData;

})();

module.exports = UserData;


},{}],7:[function(require,module,exports){
var LayerManager, Loader;

LayerManager = {
  init: function() {
    this.layerStack = [];
    this.scene = new cc.Scene();
    return cc.director.runScene(this.scene);
  },
  clearLayer: function() {
    this.scene.removeAllChildren();
    return this.layerStack.length = 0;
  },
  addLayerToScene: function(ccbLayer, zOrder) {
    var layout, node;
    if (zOrder == null) {
      zOrder = 0;
    }
    layout = new ccui.Layout();
    layout.setContentSize(cc.size(1136, 640));
    layout.setTouchEnabled(true);
    node = new cc.Node();
    node.addChild(layout);
    node.addChild(ccbLayer);
    this.scene.addChild(node, zOrder);
    return this.layerStack.push(node);
  },
  removeTopLayer: function() {
    var topLayer;
    topLayer = this.layerStack.pop();
    return this.scene.removeChild(topLayer, true);
  }
};

Loader = (function() {
  function Loader(ccbFile1, controllerName1) {
    this.ccbFile = ccbFile1;
    this.controllerName = controllerName1;
  }

  Loader.prototype.showDialog = function() {
    return cc.BuilderReader.load(this.ccbFile);
  };

  return Loader;

})();

LayerManager.defineDialog = function(ccbFile, controllerName, controllerClass) {
  cc.BuilderReader.registerController(controllerName, new controllerClass());
  return new Loader(ccbFile, controllerName);
};

module.exports = LayerManager;


},{}]},{},[5])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2NiVmlldy9BcmtNYWluRGlhbG9nLmNvZmZlZSIsInNyYy9jb250cm9sL0Fya0dhbWVMb2dpYy5jb2ZmZWUiLCJzcmMvZXZlbnQvQXJrRXZlbnRNYW5hZ2VyLmNvZmZlZSIsInNyYy9ldmVudC9BcmtFdmVudE5hbWVzLmNvZmZlZSIsInNyYy9tYWluLmNvZmZlZSIsInNyYy9tb2RlbC9BcmtVc2VyRGF0YS5jb2ZmZWUiLCJzcmMvdG9vbHMvQXJrU2NlbmVNYW5hZ2VyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFya01haW5EaWFsb2csIGV2ZW50TWFuYWdlciwgZXZlbnROYW1lcztcblxuZXZlbnRNYW5hZ2VyID0gcmVxdWlyZSgnLi4vZXZlbnQvQXJrRXZlbnRNYW5hZ2VyLmNvZmZlZScpO1xuXG5ldmVudE5hbWVzID0gcmVxdWlyZSgnLi4vZXZlbnQvQXJrRXZlbnROYW1lcy5jb2ZmZWUnKTtcblxuQXJrTWFpbkRpYWxvZyA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gQXJrTWFpbkRpYWxvZygpIHt9XG5cbiAgQXJrTWFpbkRpYWxvZy5wcm90b3R5cGUub25EaWRMb2FkRnJvbUNDQiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXh0RmllbGRMYWJlbDEsIHRleHRGaWVsZExhYmVsMjtcbiAgICB0ZXh0RmllbGRMYWJlbDEgPSBuZXcgY2N1aS5UZXh0RmllbGQoXCIwMDAwLjAwXCIsIDI1KTtcbiAgICB0aGlzLnJvb3ROb2RlLmFkZENoaWxkKHRleHRGaWVsZExhYmVsMSk7XG4gICAgdGV4dEZpZWxkTGFiZWwxLnNldFBvc2l0aW9uKHRoaXMuY2NiX3RleHRGaWVsZF8xLmdldFBvc2l0aW9uKCkpO1xuICAgIHRleHRGaWVsZExhYmVsMiA9IG5ldyBjY3VpLlRleHRGaWVsZChcIjAwMDAuMDBcIiwgMjUpO1xuICAgIHRoaXMucm9vdE5vZGUuYWRkQ2hpbGQodGV4dEZpZWxkTGFiZWwyKTtcbiAgICB0ZXh0RmllbGRMYWJlbDIuc2V0UG9zaXRpb24odGhpcy5jY2JfdGV4dEZpZWxkXzIuZ2V0UG9zaXRpb24oKSk7XG4gIH07XG5cbiAgY2MuQnVpbGRlclJlYWRlci5yZWdpc3RlckNvbnRyb2xsZXIoXCJBcmtNYWluRGlhbG9nXCIsIG5ldyBBcmtNYWluRGlhbG9nKCkpO1xuXG4gIHJldHVybiBBcmtNYWluRGlhbG9nO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNjLkJ1aWxkZXJSZWFkZXIubG9hZChcInJlcy9tYWluLmNjYmlcIik7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdlkyTmlWbWxsZHk5QmNtdE5ZV2x1UkdsaGJHOW5MbU52Wm1abFpTSXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OTBZVzkzZFM5emRIVmtlUzlCY210aFpDOUJjbXRoWkVkaGJXVXZjM0pqTDJOallsWnBaWGN2UVhKclRXRnBia1JwWVd4dlp5NWpiMlptWldVaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRXNTVUZCUVRzN1FVRkJRU3haUVVGQkxFZEJRV1VzVDBGQlFTeERRVUZSTEdsRFFVRlNPenRCUVVObUxGVkJRVUVzUjBGQllTeFBRVUZCTEVOQlFWRXNLMEpCUVZJN08wRkJRMUE3T3pzd1FrRkRSaXhuUWtGQlFTeEhRVUZyUWl4VFFVRkJPMEZCUTJRc1VVRkJRVHRKUVVGQkxHVkJRVUVzUjBGQmEwSXNTVUZCU1N4SlFVRkpMRU5CUVVNc1UwRkJWQ3hEUVVGdFFpeFRRVUZ1UWl4RlFVRTRRaXhGUVVFNVFqdEpRVU5zUWl4SlFVRkRMRU5CUVVFc1VVRkJVU3hEUVVGRExGRkJRVllzUTBGQmJVSXNaVUZCYmtJN1NVRkRRU3hsUVVGbExFTkJRVU1zVjBGQmFFSXNRMEZCTkVJc1NVRkJReXhEUVVGQkxHVkJRV1VzUTBGQlF5eFhRVUZxUWl4RFFVRkJMRU5CUVRWQ08wbEJSVUVzWlVGQlFTeEhRVUZyUWl4SlFVRkpMRWxCUVVrc1EwRkJReXhUUVVGVUxFTkJRVzFDTEZOQlFXNUNMRVZCUVRoQ0xFVkJRVGxDTzBsQlEyeENMRWxCUVVNc1EwRkJRU3hSUVVGUkxFTkJRVU1zVVVGQlZpeERRVUZ0UWl4bFFVRnVRanRKUVVOQkxHVkJRV1VzUTBGQlF5eFhRVUZvUWl4RFFVRTBRaXhKUVVGRExFTkJRVUVzWlVGQlpTeERRVUZETEZkQlFXcENMRU5CUVVFc1EwRkJOVUk3UlVGUVl6czdSVUZWYkVJc1JVRkJSU3hEUVVGRExHRkJRV0VzUTBGQlF5eHJRa0ZCYWtJc1EwRkRTU3hsUVVSS0xFVkJSVWtzU1VGQlNTeGhRVUZLTEVOQlFVRXNRMEZHU2pzN096czdPMEZCUzBvc1RVRkJUU3hEUVVGRExFOUJRVkFzUjBGQmFVSXNSVUZCUlN4RFFVRkRMR0ZCUVdFc1EwRkJReXhKUVVGcVFpeERRVUZ6UWl4bFFVRjBRaUo5XG4iLCJ2YXIgR2FtZUxvZ2ljLCBVc2VyRGF0YSwgZXZlbnRNYW5hZ2VyLCBldmVudE5hbWVzLCBzY2VuZU1hbmFnZXI7XG5cbnNjZW5lTWFuYWdlciA9IHJlcXVpcmUoJy4uL3Rvb2xzL0Fya1NjZW5lTWFuYWdlci5jb2ZmZWUnKTtcblxuZXZlbnRNYW5hZ2VyID0gcmVxdWlyZSgnLi4vZXZlbnQvQXJrRXZlbnRNYW5hZ2VyLmNvZmZlZScpO1xuXG5ldmVudE5hbWVzID0gcmVxdWlyZSgnLi4vZXZlbnQvQXJrRXZlbnROYW1lcy5jb2ZmZWUnKTtcblxuVXNlckRhdGEgPSByZXF1aXJlKCcuLi9tb2RlbC9BcmtVc2VyRGF0YS5jb2ZmZWUnKTtcblxuR2FtZUxvZ2ljID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBHYW1lTG9naWMoKSB7fVxuXG4gIEdhbWVMb2dpYy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3VzZXJEYXRhID0gbmV3IFVzZXJEYXRhKCk7XG4gICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyRXZlbnRzKCk7XG4gIH07XG5cbiAgR2FtZUxvZ2ljLnByb3RvdHlwZS5fcmVnaXN0ZXJFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICBldmVudE1hbmFnZXIubGlzdGVuKGV2ZW50TmFtZXMuR0FNRV9TVEFSVCwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl91c2VyRGF0YS5zZXRTY29yZSgwKTtcbiAgICAgICAgX3RoaXMuX3VzZXJEYXRhLnNldENvdW50KDIwKTtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9HYW1lU3RhcnQoKTtcbiAgICAgIH07XG4gICAgfSkodGhpcykpO1xuICAgIGV2ZW50TWFuYWdlci5saXN0ZW4oZXZlbnROYW1lcy5HQU1FX0VORCwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaWFsb2dOb2RlO1xuICAgICAgICBzY2VuZU1hbmFnZXIucmVtb3ZlVG9wTGF5ZXIoKTtcbiAgICAgICAgZGlhbG9nTm9kZSA9IEdhbWVFbmREaWFsb2cuc2hvd0RpYWxvZygpO1xuICAgICAgICBzY2VuZU1hbmFnZXIuYWRkTGF5ZXJUb1NjZW5lKGRpYWxvZ05vZGUpO1xuICAgICAgICByZXR1cm4gZGlhbG9nTm9kZS5jb250cm9sbGVyLmluaXQoX3RoaXMuX3VzZXJEYXRhLmdldFNjb3JlKCkpO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKSk7XG4gICAgcmV0dXJuIGV2ZW50TWFuYWdlci5saXN0ZW4oZXZlbnROYW1lcy5HQU1FX05FWFRfTEVWRUwsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzY2VuZU1hbmFnZXIucmVtb3ZlVG9wTGF5ZXIoKTtcbiAgICAgICAgX3RoaXMuX3VzZXJEYXRhLnNldENvdW50KDIwKTtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9HYW1lU3RhcnQoKTtcbiAgICAgIH07XG4gICAgfSkodGhpcykpO1xuICB9O1xuXG4gIEdhbWVMb2dpYy5wcm90b3R5cGUuX0dhbWVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaWFsb2dOb2RlO1xuICAgIGRpYWxvZ05vZGUgPSBHYW1lRGlhbG9nLnNob3dEaWFsb2coKTtcbiAgICBzY2VuZU1hbmFnZXIuYWRkTGF5ZXJUb1NjZW5lKGRpYWxvZ05vZGUpO1xuICAgIHJldHVybiBkaWFsb2dOb2RlLmNvbnRyb2xsZXIuaW5pdCh0aGlzLl91c2VyRGF0YSk7XG4gIH07XG5cbiAgcmV0dXJuIEdhbWVMb2dpYztcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lTG9naWM7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdlkyOXVkSEp2YkM5QmNtdEhZVzFsVEc5bmFXTXVZMjltWm1WbElpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lMMVZ6WlhKekwzUmhiM2QxTDNOMGRXUjVMMEZ5YTJGa0wwRnlhMkZrUjJGdFpTOXpjbU12WTI5dWRISnZiQzlCY210SFlXMWxURzluYVdNdVkyOW1abVZsSWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQkxFbEJRVUU3TzBGQlFVRXNXVUZCUVN4SFFVRnJRaXhQUVVGQkxFTkJRVkVzYVVOQlFWSTdPMEZCUTJ4Q0xGbEJRVUVzUjBGQmEwSXNUMEZCUVN4RFFVRlJMR2xEUVVGU096dEJRVU5zUWl4VlFVRkJMRWRCUVd0Q0xFOUJRVUVzUTBGQlVTd3JRa0ZCVWpzN1FVRkRiRUlzVVVGQlFTeEhRVUZyUWl4UFFVRkJMRU5CUVZFc05rSkJRVkk3TzBGQlIxbzdPenR6UWtGRFJpeEpRVUZCTEVkQlFVMHNVMEZCUVR0SlFVTkdMRWxCUVVNc1EwRkJRU3hUUVVGRUxFZEJRV0VzU1VGQlNTeFJRVUZLTEVOQlFVRTdWMEZEWWl4SlFVRkRMRU5CUVVFc1pVRkJSQ3hEUVVGQk8wVkJSa1U3TzNOQ1FVbE9MR1ZCUVVFc1IwRkJhVUlzVTBGQlFUdEpRVU5pTEZsQlFWa3NRMEZCUXl4TlFVRmlMRU5CUVc5Q0xGVkJRVlVzUTBGQlF5eFZRVUV2UWl4RlFVRXlReXhEUVVGQkxGTkJRVUVzUzBGQlFUdGhRVUZCTEZOQlFVRTdVVUZEZGtNc1MwRkJReXhEUVVGQkxGTkJRVk1zUTBGQlF5eFJRVUZZTEVOQlFXOUNMRU5CUVhCQ08xRkJRMEVzUzBGQlF5eERRVUZCTEZOQlFWTXNRMEZCUXl4UlFVRllMRU5CUVc5Q0xFVkJRWEJDTzJWQlEwRXNTMEZCUXl4RFFVRkJMRlZCUVVRc1EwRkJRVHROUVVoMVF6dEpRVUZCTEVOQlFVRXNRMEZCUVN4RFFVRkJMRWxCUVVFc1EwRkJNME03U1VGTlFTeFpRVUZaTEVOQlFVTXNUVUZCWWl4RFFVRnZRaXhWUVVGVkxFTkJRVU1zVVVGQkwwSXNSVUZCZVVNc1EwRkJRU3hUUVVGQkxFdEJRVUU3WVVGQlFTeFRRVUZCTzBGQlEzSkRMRmxCUVVFN1VVRkJRU3haUVVGWkxFTkJRVU1zWTBGQllpeERRVUZCTzFGQlEwRXNWVUZCUVN4SFFVRmhMR0ZCUVdFc1EwRkJReXhWUVVGa0xFTkJRVUU3VVVGRFlpeFpRVUZaTEVOQlFVTXNaVUZCWWl4RFFVRTJRaXhWUVVFM1FqdGxRVU5CTEZWQlFWVXNRMEZCUXl4VlFVRlZMRU5CUVVNc1NVRkJkRUlzUTBGQk1rSXNTMEZCUXl4RFFVRkJMRk5CUVZNc1EwRkJReXhSUVVGWUxFTkJRVUVzUTBGQk0wSTdUVUZLY1VNN1NVRkJRU3hEUVVGQkxFTkJRVUVzUTBGQlFTeEpRVUZCTEVOQlFYcERPMWRCVDBFc1dVRkJXU3hEUVVGRExFMUJRV0lzUTBGQmIwSXNWVUZCVlN4RFFVRkRMR1ZCUVM5Q0xFVkJRV2RFTEVOQlFVRXNVMEZCUVN4TFFVRkJPMkZCUVVFc1UwRkJRVHRSUVVNMVF5eFpRVUZaTEVOQlFVTXNZMEZCWWl4RFFVRkJPMUZCUTBFc1MwRkJReXhEUVVGQkxGTkJRVk1zUTBGQlF5eFJRVUZZTEVOQlFXOUNMRVZCUVhCQ08yVkJRMEVzUzBGQlF5eERRVUZCTEZWQlFVUXNRMEZCUVR0TlFVZzBRenRKUVVGQkxFTkJRVUVzUTBGQlFTeERRVUZCTEVsQlFVRXNRMEZCYUVRN1JVRmtZVHM3YzBKQmNVSnFRaXhWUVVGQkxFZEJRVmtzVTBGQlFUdEJRVU5TTEZGQlFVRTdTVUZCUVN4VlFVRkJMRWRCUVdFc1ZVRkJWU3hEUVVGRExGVkJRVmdzUTBGQlFUdEpRVU5pTEZsQlFWa3NRMEZCUXl4bFFVRmlMRU5CUVRaQ0xGVkJRVGRDTzFkQlEwRXNWVUZCVlN4RFFVRkRMRlZCUVZVc1EwRkJReXhKUVVGMFFpeERRVUV5UWl4SlFVRkRMRU5CUVVFc1UwRkJOVUk3UlVGSVVUczdPenM3TzBGQlRXaENMRTFCUVUwc1EwRkJReXhQUVVGUUxFZEJRV2xDSW4wPVxuIiwidmFyIEV2ZW50TWFuYWdlcjtcblxuRXZlbnRNYW5hZ2VyID0ge1xuICBzZW5kOiBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcbiAgICB2YXIgZXZlbnQ7XG4gICAgZXZlbnQgPSBuZXcgY2MuRXZlbnRDdXN0b20oZXZlbnROYW1lKTtcbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgZXZlbnQuc2V0VXNlckRhdGEoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBjYy5ldmVudE1hbmFnZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0sXG4gIGxpc3RlbjogZnVuY3Rpb24oZXZlbnROYW1lLCBsaXN0ZW5GdW5jLCBub2RlT3JQcmlvcml0eSkge1xuICAgIHZhciBjY0xpc3RlbmVyO1xuICAgIGlmIChub2RlT3JQcmlvcml0eSA9PSBudWxsKSB7XG4gICAgICBub2RlT3JQcmlvcml0eSA9IDE7XG4gICAgfVxuICAgIGNjTGlzdGVuZXIgPSBjYy5FdmVudExpc3RlbmVyLmNyZWF0ZSh7XG4gICAgICBldmVudDogY2MuRXZlbnRMaXN0ZW5lci5DVVNUT00sXG4gICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICByZXR1cm4gbGlzdGVuRnVuYyhldmVudC5nZXRVc2VyRGF0YSgpLCBldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNjLmV2ZW50TWFuYWdlci5hZGRMaXN0ZW5lcihjY0xpc3RlbmVyLCBub2RlT3JQcmlvcml0eSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRNYW5hZ2VyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaUwxVnpaWEp6TDNSaGIzZDFMM04wZFdSNUwwRnlhMkZrTDBGeWEyRmtSMkZ0WlM5emNtTXZaWFpsYm5RdlFYSnJSWFpsYm5STllXNWhaMlZ5TG1OdlptWmxaU0lzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpJanBiSWk5VmMyVnljeTkwWVc5M2RTOXpkSFZrZVM5QmNtdGhaQzlCY210aFpFZGhiV1V2YzNKakwyVjJaVzUwTDBGeWEwVjJaVzUwVFdGdVlXZGxjaTVqYjJabVpXVWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUVzU1VGQlFUczdRVUZCUVN4WlFVRkJMRWRCUTBrN1JVRkJRU3hKUVVGQkxFVkJRVTBzVTBGQlF5eFRRVUZFTEVWQlFWa3NTVUZCV2p0QlFVTkdMRkZCUVVFN1NVRkJRU3hMUVVGQkxFZEJRVkVzU1VGQlNTeEZRVUZGTEVOQlFVTXNWMEZCVUN4RFFVRnRRaXhUUVVGdVFqdEpRVU5TTEVsQlFVa3NTVUZCUVN4TFFVRlJMRWxCUVZvN1RVRkRTU3hMUVVGTExFTkJRVU1zVjBGQlRpeERRVUZyUWl4SlFVRnNRaXhGUVVSS096dFhRVVZCTEVWQlFVVXNRMEZCUXl4WlFVRlpMRU5CUVVNc1lVRkJhRUlzUTBGQk9FSXNTMEZCT1VJN1JVRktSU3hEUVVGT08wVkJTMEVzVFVGQlFTeEZRVUZSTEZOQlFVTXNVMEZCUkN4RlFVRlpMRlZCUVZvc1JVRkJkMElzWTBGQmVFSTdRVUZEU2l4UlFVRkJPenROUVVGQkxHbENRVUZyUWpzN1NVRkRiRUlzVlVGQlFTeEhRVUZoTEVWQlFVVXNRMEZCUXl4aFFVRmhMRU5CUVVNc1RVRkJha0lzUTBGRFZEdE5RVUZCTEV0QlFVRXNSVUZCVHl4RlFVRkZMRU5CUVVNc1lVRkJZU3hEUVVGRExFMUJRWGhDTzAxQlEwRXNVMEZCUVN4RlFVRlhMRk5CUkZnN1RVRkZRU3hSUVVGQkxFVkJRVlVzVTBGQlF5eExRVUZFTzBGQlEwNHNaVUZCVHl4VlFVRkJMRU5CUVZjc1MwRkJTeXhEUVVGRExGZEJRVTRzUTBGQlFTeERRVUZZTEVWQlFXZERMRXRCUVdoRE8wMUJSRVFzUTBGR1ZqdExRVVJUTzFkQlRXSXNSVUZCUlN4RFFVRkRMRmxCUVZrc1EwRkJReXhYUVVGb1FpeERRVUUwUWl4VlFVRTFRaXhGUVVGM1F5eGpRVUY0UXp0RlFWSkpMRU5CVEZJN096dEJRV05LTEUxQlFVMHNRMEZCUXl4UFFVRlFMRWRCUVdsQ0luMD1cbiIsInZhciBFdmVudE5hbWVzO1xuXG5FdmVudE5hbWVzID0ge1xuICBHQU1FX1NUQVJUOiBcImdhbWUuc3RhcnRcIixcbiAgR0FNRV9FTkQ6IFwiZ2FtZS5lbmRcIixcbiAgR0FNRV9ORVhUX0xFVkVMOiBcImdhbWUubmV4dC5sZXZlbFwiXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50TmFtZXM7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdlpYWmxiblF2UVhKclJYWmxiblJPWVcxbGN5NWpiMlptWldVaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXZWWE5sY25NdmRHRnZkM1V2YzNSMVpIa3ZRWEpyWVdRdlFYSnJZV1JIWVcxbEwzTnlZeTlsZG1WdWRDOUJjbXRGZG1WdWRFNWhiV1Z6TG1OdlptWmxaU0pkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4SlFVRkJPenRCUVVGQkxGVkJRVUVzUjBGRFNUdEZRVUZCTEZWQlFVRXNSVUZCYTBJc1dVRkJiRUk3UlVGRFFTeFJRVUZCTEVWQlFXdENMRlZCUkd4Q08wVkJSVUVzWlVGQlFTeEZRVUZyUWl4cFFrRkdiRUk3T3p0QlFVbEtMRTFCUVUwc1EwRkJReXhQUVVGUUxFZEJRV2xDSW4wPVxuIiwiY2MuZ2FtZS5vblN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBHYW1lTG9naWMsIGdhbWVEaWFsb2csIGdhbWVMb2dpY09iaiwgc2NlbmVNYW5hZ2VyO1xuICBjYy52aWV3LmFkanVzdFZpZXdQb3J0KHRydWUpO1xuICBjYy52aWV3LnNldERlc2lnblJlc29sdXRpb25TaXplKDY0MCwgMTEzNiwgY2MuUmVzb2x1dGlvblBvbGljeS5TSE9XX0FMTCk7XG4gIGNjLnZpZXcucmVzaXplV2l0aEJyb3dzZXJTaXplKHRydWUpO1xuICBjYy5CdWlsZGVyUmVhZGVyLnNldFJlc291cmNlUGF0aChcInJlcy9cIik7XG4gIHNjZW5lTWFuYWdlciA9IHJlcXVpcmUoXCIuL3Rvb2xzL0Fya1NjZW5lTWFuYWdlci5jb2ZmZWVcIik7XG4gIHNjZW5lTWFuYWdlci5pbml0KCk7XG4gIGdhbWVEaWFsb2cgPSByZXF1aXJlKCcuL2NjYlZpZXcvQXJrTWFpbkRpYWxvZy5jb2ZmZWUnKTtcbiAgc2NlbmVNYW5hZ2VyLmFkZExheWVyVG9TY2VuZShnYW1lRGlhbG9nKTtcbiAgR2FtZUxvZ2ljID0gcmVxdWlyZSgnLi9jb250cm9sL0Fya0dhbWVMb2dpYy5jb2ZmZWUnKTtcbiAgZ2FtZUxvZ2ljT2JqID0gbmV3IEdhbWVMb2dpYygpO1xuICByZXR1cm4gZ2FtZUxvZ2ljT2JqLmluaXQoKTtcbn07XG5cbmNjLmdhbWUucnVuKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdmJXRnBiaTVqYjJabVpXVWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl2VlhObGNuTXZkR0Z2ZDNVdmMzUjFaSGt2UVhKcllXUXZRWEpyWVdSSFlXMWxMM055WXk5dFlXbHVMbU52Wm1abFpTSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hGUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEU5QlFWSXNSMEZCYTBJc1UwRkJRVHRCUVVOa0xFMUJRVUU3UlVGQlFTeEZRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRMR05CUVZJc1EwRkJkVUlzU1VGQmRrSTdSVUZEUVN4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExIVkNRVUZTTEVOQlFXZERMRWRCUVdoRExFVkJRWEZETEVsQlFYSkRMRVZCUVRKRExFVkJRVVVzUTBGQlF5eG5Ra0ZCWjBJc1EwRkJReXhSUVVFdlJEdEZRVU5CTEVWQlFVVXNRMEZCUXl4SlFVRkpMRU5CUVVNc2NVSkJRVklzUTBGQk9FSXNTVUZCT1VJN1JVRkRRU3hGUVVGRkxFTkJRVU1zWVVGQllTeERRVUZETEdWQlFXcENMRU5CUVdsRExFMUJRV3BETzBWQlJVRXNXVUZCUVN4SFFVRmxMRTlCUVVFc1EwRkJVU3huUTBGQlVqdEZRVU5tTEZsQlFWa3NRMEZCUXl4SlFVRmlMRU5CUVVFN1JVRkZRU3hWUVVGQkxFZEJRV0VzVDBGQlFTeERRVUZSTEdkRFFVRlNPMFZCUTJJc1dVRkJXU3hEUVVGRExHVkJRV0lzUTBGQk5rSXNWVUZCTjBJN1JVRkZRU3hUUVVGQkxFZEJRVmtzVDBGQlFTeERRVUZSTEN0Q1FVRlNPMFZCUTFvc1dVRkJRU3hIUVVGbExFbEJRVWtzVTBGQlNpeERRVUZCTzFOQlEyWXNXVUZCV1N4RFFVRkRMRWxCUVdJc1EwRkJRVHRCUVdSak96dEJRV2RDYkVJc1JVRkJSU3hEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZTTEVOQlFVRWlmUT09XG4iLCJ2YXIgVXNlckRhdGE7XG5cblVzZXJEYXRhID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBVc2VyRGF0YSgpIHtcbiAgICB0aGlzLl9zY29yZSA9IDA7XG4gICAgdGhpcy5fY291bnQgPSAwO1xuICB9XG5cbiAgVXNlckRhdGEucHJvdG90eXBlLnNldFNjb3JlID0gZnVuY3Rpb24oX3Njb3JlKSB7XG4gICAgdGhpcy5fc2NvcmUgPSBfc2NvcmU7XG4gIH07XG5cbiAgVXNlckRhdGEucHJvdG90eXBlLmdldFNjb3JlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Njb3JlO1xuICB9O1xuXG4gIFVzZXJEYXRhLnByb3RvdHlwZS5zZXRDb3VudCA9IGZ1bmN0aW9uKF9jb3VudCkge1xuICAgIHRoaXMuX2NvdW50ID0gX2NvdW50O1xuICB9O1xuXG4gIFVzZXJEYXRhLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9jb3VudDtcbiAgfTtcblxuICByZXR1cm4gVXNlckRhdGE7XG5cbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gVXNlckRhdGE7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdmJXOWtaV3d2UVhKclZYTmxja1JoZEdFdVkyOW1abVZsSWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUwxVnpaWEp6TDNSaGIzZDFMM04wZFdSNUwwRnlhMkZrTDBGeWEyRmtSMkZ0WlM5emNtTXZiVzlrWld3dlFYSnJWWE5sY2tSaGRHRXVZMjltWm1WbElsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJMRWxCUVVFN08wRkJRVTA3UlVGRFZ5eHJRa0ZCUVR0SlFVTlVMRWxCUVVNc1EwRkJRU3hOUVVGRUxFZEJRVlU3U1VGRFZpeEpRVUZETEVOQlFVRXNUVUZCUkN4SFFVRlZPMFZCUmtRN08zRkNRVWxpTEZGQlFVRXNSMEZCVlN4VFFVRkRMRTFCUVVRN1NVRkJReXhKUVVGRExFTkJRVUVzVTBGQlJEdEZRVUZFT3p0eFFrRkZWaXhSUVVGQkxFZEJRVlVzVTBGQlFUdFhRVUZITEVsQlFVTXNRMEZCUVR0RlFVRktPenR4UWtGRlZpeFJRVUZCTEVkQlFWVXNVMEZCUXl4TlFVRkVPMGxCUVVNc1NVRkJReXhEUVVGQkxGTkJRVVE3UlVGQlJEczdjVUpCUlZZc1VVRkJRU3hIUVVGVkxGTkJRVUU3VjBGQlJ5eEpRVUZETEVOQlFVRTdSVUZCU2pzN096czdPMEZCUldRc1RVRkJUU3hEUVVGRExFOUJRVkFzUjBGQmFVSWlmUT09XG4iLCJ2YXIgTGF5ZXJNYW5hZ2VyLCBMb2FkZXI7XG5cbkxheWVyTWFuYWdlciA9IHtcbiAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXllclN0YWNrID0gW107XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBjYy5TY2VuZSgpO1xuICAgIHJldHVybiBjYy5kaXJlY3Rvci5ydW5TY2VuZSh0aGlzLnNjZW5lKTtcbiAgfSxcbiAgY2xlYXJMYXllcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zY2VuZS5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgIHJldHVybiB0aGlzLmxheWVyU3RhY2subGVuZ3RoID0gMDtcbiAgfSxcbiAgYWRkTGF5ZXJUb1NjZW5lOiBmdW5jdGlvbihjY2JMYXllciwgek9yZGVyKSB7XG4gICAgdmFyIGxheW91dCwgbm9kZTtcbiAgICBpZiAoek9yZGVyID09IG51bGwpIHtcbiAgICAgIHpPcmRlciA9IDA7XG4gICAgfVxuICAgIGxheW91dCA9IG5ldyBjY3VpLkxheW91dCgpO1xuICAgIGxheW91dC5zZXRDb250ZW50U2l6ZShjYy5zaXplKDExMzYsIDY0MCkpO1xuICAgIGxheW91dC5zZXRUb3VjaEVuYWJsZWQodHJ1ZSk7XG4gICAgbm9kZSA9IG5ldyBjYy5Ob2RlKCk7XG4gICAgbm9kZS5hZGRDaGlsZChsYXlvdXQpO1xuICAgIG5vZGUuYWRkQ2hpbGQoY2NiTGF5ZXIpO1xuICAgIHRoaXMuc2NlbmUuYWRkQ2hpbGQobm9kZSwgek9yZGVyKTtcbiAgICByZXR1cm4gdGhpcy5sYXllclN0YWNrLnB1c2gobm9kZSk7XG4gIH0sXG4gIHJlbW92ZVRvcExheWVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG9wTGF5ZXI7XG4gICAgdG9wTGF5ZXIgPSB0aGlzLmxheWVyU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodG9wTGF5ZXIsIHRydWUpO1xuICB9XG59O1xuXG5Mb2FkZXIgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIExvYWRlcihjY2JGaWxlMSwgY29udHJvbGxlck5hbWUxKSB7XG4gICAgdGhpcy5jY2JGaWxlID0gY2NiRmlsZTE7XG4gICAgdGhpcy5jb250cm9sbGVyTmFtZSA9IGNvbnRyb2xsZXJOYW1lMTtcbiAgfVxuXG4gIExvYWRlci5wcm90b3R5cGUuc2hvd0RpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjYy5CdWlsZGVyUmVhZGVyLmxvYWQodGhpcy5jY2JGaWxlKTtcbiAgfTtcblxuICByZXR1cm4gTG9hZGVyO1xuXG59KSgpO1xuXG5MYXllck1hbmFnZXIuZGVmaW5lRGlhbG9nID0gZnVuY3Rpb24oY2NiRmlsZSwgY29udHJvbGxlck5hbWUsIGNvbnRyb2xsZXJDbGFzcykge1xuICBjYy5CdWlsZGVyUmVhZGVyLnJlZ2lzdGVyQ29udHJvbGxlcihjb250cm9sbGVyTmFtZSwgbmV3IGNvbnRyb2xsZXJDbGFzcygpKTtcbiAgcmV0dXJuIG5ldyBMb2FkZXIoY2NiRmlsZSwgY29udHJvbGxlck5hbWUpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXllck1hbmFnZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdmRHOXZiSE12UVhKclUyTmxibVZOWVc1aFoyVnlMbU52Wm1abFpTSXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OTBZVzkzZFM5emRIVmtlUzlCY210aFpDOUJjbXRoWkVkaGJXVXZjM0pqTDNSdmIyeHpMMEZ5YTFOalpXNWxUV0Z1WVdkbGNpNWpiMlptWldVaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlEwRXNTVUZCUVRzN1FVRkJRU3haUVVGQkxFZEJRMGs3UlVGQlFTeEpRVUZCTEVWQlFVMHNVMEZCUVR0SlFVTkdMRWxCUVVNc1EwRkJRU3hWUVVGRUxFZEJRV003U1VGRFpDeEpRVUZETEVOQlFVRXNTMEZCUkN4SFFVRlRMRWxCUVVrc1JVRkJSU3hEUVVGRExFdEJRVkFzUTBGQlFUdFhRVU5VTEVWQlFVVXNRMEZCUXl4UlFVRlJMRU5CUVVNc1VVRkJXaXhEUVVGeFFpeEpRVUZETEVOQlFVRXNTMEZCZEVJN1JVRklSU3hEUVVGT08wVkJTMEVzVlVGQlFTeEZRVUZaTEZOQlFVRTdTVUZEVWl4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRExHbENRVUZRTEVOQlFVRTdWMEZEUVN4SlFVRkRMRU5CUVVFc1ZVRkJWU3hEUVVGRExFMUJRVm9zUjBGQmNVSTdSVUZHWWl4RFFVeGFPMFZCVTBFc1pVRkJRU3hGUVVGclFpeFRRVUZETEZGQlFVUXNSVUZCVnl4TlFVRllPMEZCUTJRc1VVRkJRVHM3VFVGRWVVSXNVMEZCVXpzN1NVRkRiRU1zVFVGQlFTeEhRVUZUTEVsQlFVa3NTVUZCU1N4RFFVRkRMRTFCUVZRc1EwRkJRVHRKUVVOVUxFMUJRVTBzUTBGQlF5eGpRVUZRTEVOQlFYTkNMRVZCUVVVc1EwRkJReXhKUVVGSUxFTkJRVkVzU1VGQlVpeEZRVUZqTEVkQlFXUXNRMEZCZEVJN1NVRkRRU3hOUVVGTkxFTkJRVU1zWlVGQlVDeERRVUYxUWl4SlFVRjJRanRKUVVWQkxFbEJRVUVzUjBGQlRTeEpRVUZKTEVWQlFVVXNRMEZCUXl4SlFVRlFMRU5CUVVFN1NVRkRUaXhKUVVGSkxFTkJRVU1zVVVGQlRDeERRVUZqTEUxQlFXUTdTVUZEUVN4SlFVRkpMRU5CUVVNc1VVRkJUQ3hEUVVGakxGRkJRV1E3U1VGRlFTeEpRVUZETEVOQlFVRXNTMEZCU3l4RFFVRkRMRkZCUVZBc1EwRkJaMElzU1VGQmFFSXNSVUZCYzBJc1RVRkJkRUk3VjBGRFFTeEpRVUZETEVOQlFVRXNWVUZCVlN4RFFVRkRMRWxCUVZvc1EwRkJhVUlzU1VGQmFrSTdSVUZXWXl4RFFWUnNRanRGUVhGQ1FTeGpRVUZCTEVWQlFXZENMRk5CUVVFN1FVRkRXaXhSUVVGQk8wbEJRVUVzVVVGQlFTeEhRVUZYTEVsQlFVTXNRMEZCUVN4VlFVRlZMRU5CUVVNc1IwRkJXaXhEUVVGQk8xZEJRMWdzU1VGQlF5eERRVUZCTEV0QlFVc3NRMEZCUXl4WFFVRlFMRU5CUVcxQ0xGRkJRVzVDTEVWQlFUWkNMRWxCUVRkQ08wVkJSbGtzUTBGeVFtaENPenM3UVVGNVFrVTdSVUZEVnl4blFrRkJReXhSUVVGRUxFVkJRVmNzWlVGQldEdEpRVUZETEVsQlFVTXNRMEZCUVN4VlFVRkVPMGxCUVZVc1NVRkJReXhEUVVGQkxHbENRVUZFTzBWQlFWZzdPMjFDUVVOaUxGVkJRVUVzUjBGQllTeFRRVUZCTzFkQlExUXNSVUZCUlN4RFFVRkRMR0ZCUVdFc1EwRkJReXhKUVVGcVFpeERRVUZ6UWl4SlFVRkRMRU5CUVVFc1QwRkJka0k3UlVGRVV6czdPenM3TzBGQlIycENMRmxCUVZrc1EwRkJReXhaUVVGaUxFZEJRVFJDTEZOQlFVTXNUMEZCUkN4RlFVRlZMR05CUVZZc1JVRkJNRUlzWlVGQk1VSTdSVUZEZUVJc1JVRkJSU3hEUVVGRExHRkJRV0VzUTBGQlF5eHJRa0ZCYWtJc1EwRkRTU3hqUVVSS0xFVkJSVWtzU1VGQlNTeGxRVUZLTEVOQlFVRXNRMEZHU2p0VFFVdEJMRWxCUVVrc1RVRkJTaXhEUVVGWExFOUJRVmdzUlVGQmIwSXNZMEZCY0VJN1FVRk9kMEk3TzBGQlVUVkNMRTFCUVUwc1EwRkJReXhQUVVGUUxFZEJRV2xDSW4wPVxuIl19
