(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var ArkMainDialog, eventManager, eventNames;

eventManager = require('../event/ArkEventManager.coffee');

eventNames = require('../event/ArkEventNames.coffee');

ArkMainDialog = (function() {
  function ArkMainDialog() {}

  ArkMainDialog.prototype.onClose = function() {
    var actionBy, actionByBack, seq;
    seq = [];
    actionBy = cc.moveBy(1, cc.p(80, 80));
    actionByBack = actionBy.reverse();
    seq.push(actionBy);
    seq.push(actionByBack);
    return this.m_title.runAction(cc.sequence(seq));
  };

  cc.BuilderReader.registerController("ArkMainDialog", new ArkMainDialog());

  return ArkMainDialog;

})();

module.exports = cc.BuilderReader.load("res/main.ccbi");


},{"../event/ArkEventManager.coffee":3,"../event/ArkEventNames.coffee":4}],2:[function(require,module,exports){
var GameLogic, UserData, eventManager, eventNames, sceneManager;

sceneManager = require('../tools/ArkSceneManager.coffee');

eventManager = require('../event/ArkEventManager.coffee');

eventNames = require('../event/ArkEventNames.coffee');

UserData = require('../model/ArkUserData.coffee');

GameLogic = (function() {
  function GameLogic() {}

  GameLogic.prototype.init = function() {
    this._userData = new UserData();
    return this._registerEvents();
  };

  GameLogic.prototype._registerEvents = function() {
    eventManager.listen(eventNames.GAME_START, (function(_this) {
      return function() {
        _this._userData.setScore(0);
        _this._userData.setCount(20);
        return _this._GameStart();
      };
    })(this));
    eventManager.listen(eventNames.GAME_END, (function(_this) {
      return function() {
        var dialogNode;
        sceneManager.removeTopLayer();
        dialogNode = GameEndDialog.showDialog();
        sceneManager.addLayerToScene(dialogNode);
        return dialogNode.controller.init(_this._userData.getScore());
      };
    })(this));
    return eventManager.listen(eventNames.GAME_NEXT_LEVEL, (function(_this) {
      return function() {
        sceneManager.removeTopLayer();
        _this._userData.setCount(20);
        return _this._GameStart();
      };
    })(this));
  };

  GameLogic.prototype._GameStart = function() {
    var dialogNode;
    dialogNode = GameDialog.showDialog();
    sceneManager.addLayerToScene(dialogNode);
    return dialogNode.controller.init(this._userData);
  };

  return GameLogic;

})();

module.exports = GameLogic;


},{"../event/ArkEventManager.coffee":3,"../event/ArkEventNames.coffee":4,"../model/ArkUserData.coffee":6,"../tools/ArkSceneManager.coffee":7}],3:[function(require,module,exports){
var EventManager;

EventManager = {
  send: function(eventName, data) {
    var event;
    event = new cc.EventCustom(eventName);
    if (data !== null) {
      event.setUserData(data);
    }
    return cc.eventManager.dispatchEvent(event);
  },
  listen: function(eventName, listenFunc, nodeOrPriority) {
    var ccListener;
    if (nodeOrPriority == null) {
      nodeOrPriority = 1;
    }
    ccListener = cc.EventListener.create({
      event: cc.EventListener.CUSTOM,
      eventName: eventName,
      callback: function(event) {
        return listenFunc(event.getUserData(), event);
      }
    });
    return cc.eventManager.addListener(ccListener, nodeOrPriority);
  }
};

module.exports = EventManager;


},{}],4:[function(require,module,exports){
var EventNames;

EventNames = {
  GAME_START: "game.start",
  GAME_END: "game.end",
  GAME_NEXT_LEVEL: "game.next.level"
};

module.exports = EventNames;


},{}],5:[function(require,module,exports){
cc.game.onStart = function() {
  var GameLogic, gameDialog, gameLogicObj, sceneManager;
  cc.view.adjustViewPort(true);
  cc.view.setDesignResolutionSize(640, 1136, cc.ResolutionPolicy.SHOW_ALL);
  cc.view.resizeWithBrowserSize(true);
  cc.BuilderReader.setResourcePath("res/");
  sceneManager = require("./tools/ArkSceneManager.coffee");
  sceneManager.init();
  gameDialog = require('./ccbView/ArkMainDialog.coffee');
  sceneManager.addLayerToScene(gameDialog);
  GameLogic = require('./control/ArkGameLogic.coffee');
  gameLogicObj = new GameLogic();
  return gameLogicObj.init();
};

cc.game.run();


},{"./ccbView/ArkMainDialog.coffee":1,"./control/ArkGameLogic.coffee":2,"./tools/ArkSceneManager.coffee":7}],6:[function(require,module,exports){
var UserData;

UserData = (function() {
  function UserData() {
    this._score = 0;
    this._count = 0;
  }

  UserData.prototype.setScore = function(_score) {
    this._score = _score;
  };

  UserData.prototype.getScore = function() {
    return this._score;
  };

  UserData.prototype.setCount = function(_count) {
    this._count = _count;
  };

  UserData.prototype.getCount = function() {
    return this._count;
  };

  return UserData;

})();

module.exports = UserData;


},{}],7:[function(require,module,exports){
var LayerManager, Loader;

LayerManager = {
  init: function() {
    this.layerStack = [];
    this.scene = new cc.Scene();
    return cc.director.runScene(this.scene);
  },
  clearLayer: function() {
    this.scene.removeAllChildren();
    return this.layerStack.length = 0;
  },
  addLayerToScene: function(ccbLayer, zOrder) {
    var layout, node;
    if (zOrder == null) {
      zOrder = 0;
    }
    layout = new ccui.Layout();
    layout.setContentSize(cc.size(1136, 640));
    layout.setTouchEnabled(true);
    node = new cc.Node();
    node.addChild(layout);
    node.addChild(ccbLayer);
    this.scene.addChild(node, zOrder);
    return this.layerStack.push(node);
  },
  removeTopLayer: function() {
    var topLayer;
    topLayer = this.layerStack.pop();
    return this.scene.removeChild(topLayer, true);
  }
};

Loader = (function() {
  function Loader(ccbFile1, controllerName1) {
    this.ccbFile = ccbFile1;
    this.controllerName = controllerName1;
  }

  Loader.prototype.showDialog = function() {
    return cc.BuilderReader.load(this.ccbFile);
  };

  return Loader;

})();

LayerManager.defineDialog = function(ccbFile, controllerName, controllerClass) {
  cc.BuilderReader.registerController(controllerName, new controllerClass());
  return new Loader(ccbFile, controllerName);
};

module.exports = LayerManager;


},{}]},{},[5])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2NiVmlldy9BcmtNYWluRGlhbG9nLmNvZmZlZSIsInNyYy9jb250cm9sL0Fya0dhbWVMb2dpYy5jb2ZmZWUiLCJzcmMvZXZlbnQvQXJrRXZlbnRNYW5hZ2VyLmNvZmZlZSIsInNyYy9ldmVudC9BcmtFdmVudE5hbWVzLmNvZmZlZSIsInNyYy9tYWluLmNvZmZlZSIsInNyYy9tb2RlbC9BcmtVc2VyRGF0YS5jb2ZmZWUiLCJzcmMvdG9vbHMvQXJrU2NlbmVNYW5hZ2VyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFya01haW5EaWFsb2csIGV2ZW50TWFuYWdlciwgZXZlbnROYW1lcztcblxuZXZlbnRNYW5hZ2VyID0gcmVxdWlyZSgnLi4vZXZlbnQvQXJrRXZlbnRNYW5hZ2VyLmNvZmZlZScpO1xuXG5ldmVudE5hbWVzID0gcmVxdWlyZSgnLi4vZXZlbnQvQXJrRXZlbnROYW1lcy5jb2ZmZWUnKTtcblxuQXJrTWFpbkRpYWxvZyA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gQXJrTWFpbkRpYWxvZygpIHt9XG5cbiAgQXJrTWFpbkRpYWxvZy5wcm90b3R5cGUub25DbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3Rpb25CeSwgYWN0aW9uQnlCYWNrLCBzZXE7XG4gICAgc2VxID0gW107XG4gICAgYWN0aW9uQnkgPSBjYy5tb3ZlQnkoMSwgY2MucCg4MCwgODApKTtcbiAgICBhY3Rpb25CeUJhY2sgPSBhY3Rpb25CeS5yZXZlcnNlKCk7XG4gICAgc2VxLnB1c2goYWN0aW9uQnkpO1xuICAgIHNlcS5wdXNoKGFjdGlvbkJ5QmFjayk7XG4gICAgcmV0dXJuIHRoaXMubV90aXRsZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2Uoc2VxKSk7XG4gIH07XG5cbiAgY2MuQnVpbGRlclJlYWRlci5yZWdpc3RlckNvbnRyb2xsZXIoXCJBcmtNYWluRGlhbG9nXCIsIG5ldyBBcmtNYWluRGlhbG9nKCkpO1xuXG4gIHJldHVybiBBcmtNYWluRGlhbG9nO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNjLkJ1aWxkZXJSZWFkZXIubG9hZChcInJlcy9tYWluLmNjYmlcIik7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdlkyTmlWbWxsZHk5QmNtdE5ZV2x1UkdsaGJHOW5MbU52Wm1abFpTSXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OTBZVzkzZFM5emRIVmtlUzlCY210aFpDOUJjbXRoWkVkaGJXVXZjM0pqTDJOallsWnBaWGN2UVhKclRXRnBia1JwWVd4dlp5NWpiMlptWldVaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRXNTVUZCUVRzN1FVRkJRU3haUVVGQkxFZEJRV1VzVDBGQlFTeERRVUZSTEdsRFFVRlNPenRCUVVObUxGVkJRVUVzUjBGQllTeFBRVUZCTEVOQlFWRXNLMEpCUVZJN08wRkJRMUE3T3pzd1FrRkRSaXhQUVVGQkxFZEJRVk1zVTBGQlFUdEJRVU5NTEZGQlFVRTdTVUZCUVN4SFFVRkJMRWRCUVUwN1NVRkZUaXhSUVVGQkxFZEJRVmNzUlVGQlJTeERRVUZETEUxQlFVZ3NRMEZCVlN4RFFVRldMRVZCUVdFc1JVRkJSU3hEUVVGRExFTkJRVWdzUTBGQlN5eEZRVUZNTEVWQlFWTXNSVUZCVkN4RFFVRmlPMGxCUTFnc1dVRkJRU3hIUVVGbExGRkJRVkVzUTBGQlF5eFBRVUZVTEVOQlFVRTdTVUZGWml4SFFVRkhMRU5CUVVNc1NVRkJTaXhEUVVGVExGRkJRVlE3U1VGRFFTeEhRVUZITEVOQlFVTXNTVUZCU2l4RFFVRlRMRmxCUVZRN1YwRkZRU3hKUVVGRExFTkJRVUVzVDBGQlR5eERRVUZETEZOQlFWUXNRMEZCYlVJc1JVRkJSU3hEUVVGRExGRkJRVWdzUTBGQldTeEhRVUZhTEVOQlFXNUNPMFZCVkVzN08wVkJWMVFzUlVGQlJTeERRVUZETEdGQlFXRXNRMEZCUXl4clFrRkJha0lzUTBGRFNTeGxRVVJLTEVWQlJVa3NTVUZCU1N4aFFVRktMRU5CUVVFc1EwRkdTanM3T3pzN08wRkJTMG9zVFVGQlRTeERRVUZETEU5QlFWQXNSMEZCYVVJc1JVRkJSU3hEUVVGRExHRkJRV0VzUTBGQlF5eEpRVUZxUWl4RFFVRnpRaXhsUVVGMFFpSjlcbiIsInZhciBHYW1lTG9naWMsIFVzZXJEYXRhLCBldmVudE1hbmFnZXIsIGV2ZW50TmFtZXMsIHNjZW5lTWFuYWdlcjtcblxuc2NlbmVNYW5hZ2VyID0gcmVxdWlyZSgnLi4vdG9vbHMvQXJrU2NlbmVNYW5hZ2VyLmNvZmZlZScpO1xuXG5ldmVudE1hbmFnZXIgPSByZXF1aXJlKCcuLi9ldmVudC9BcmtFdmVudE1hbmFnZXIuY29mZmVlJyk7XG5cbmV2ZW50TmFtZXMgPSByZXF1aXJlKCcuLi9ldmVudC9BcmtFdmVudE5hbWVzLmNvZmZlZScpO1xuXG5Vc2VyRGF0YSA9IHJlcXVpcmUoJy4uL21vZGVsL0Fya1VzZXJEYXRhLmNvZmZlZScpO1xuXG5HYW1lTG9naWMgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIEdhbWVMb2dpYygpIHt9XG5cbiAgR2FtZUxvZ2ljLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fdXNlckRhdGEgPSBuZXcgVXNlckRhdGEoKTtcbiAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXJFdmVudHMoKTtcbiAgfTtcblxuICBHYW1lTG9naWMucHJvdG90eXBlLl9yZWdpc3RlckV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50TWFuYWdlci5saXN0ZW4oZXZlbnROYW1lcy5HQU1FX1NUQVJULCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMuX3VzZXJEYXRhLnNldFNjb3JlKDApO1xuICAgICAgICBfdGhpcy5fdXNlckRhdGEuc2V0Q291bnQoMjApO1xuICAgICAgICByZXR1cm4gX3RoaXMuX0dhbWVTdGFydCgpO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKSk7XG4gICAgZXZlbnRNYW5hZ2VyLmxpc3RlbihldmVudE5hbWVzLkdBTUVfRU5ELCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpYWxvZ05vZGU7XG4gICAgICAgIHNjZW5lTWFuYWdlci5yZW1vdmVUb3BMYXllcigpO1xuICAgICAgICBkaWFsb2dOb2RlID0gR2FtZUVuZERpYWxvZy5zaG93RGlhbG9nKCk7XG4gICAgICAgIHNjZW5lTWFuYWdlci5hZGRMYXllclRvU2NlbmUoZGlhbG9nTm9kZSk7XG4gICAgICAgIHJldHVybiBkaWFsb2dOb2RlLmNvbnRyb2xsZXIuaW5pdChfdGhpcy5fdXNlckRhdGEuZ2V0U2NvcmUoKSk7XG4gICAgICB9O1xuICAgIH0pKHRoaXMpKTtcbiAgICByZXR1cm4gZXZlbnRNYW5hZ2VyLmxpc3RlbihldmVudE5hbWVzLkdBTUVfTkVYVF9MRVZFTCwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjZW5lTWFuYWdlci5yZW1vdmVUb3BMYXllcigpO1xuICAgICAgICBfdGhpcy5fdXNlckRhdGEuc2V0Q291bnQoMjApO1xuICAgICAgICByZXR1cm4gX3RoaXMuX0dhbWVTdGFydCgpO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKSk7XG4gIH07XG5cbiAgR2FtZUxvZ2ljLnByb3RvdHlwZS5fR2FtZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpYWxvZ05vZGU7XG4gICAgZGlhbG9nTm9kZSA9IEdhbWVEaWFsb2cuc2hvd0RpYWxvZygpO1xuICAgIHNjZW5lTWFuYWdlci5hZGRMYXllclRvU2NlbmUoZGlhbG9nTm9kZSk7XG4gICAgcmV0dXJuIGRpYWxvZ05vZGUuY29udHJvbGxlci5pbml0KHRoaXMuX3VzZXJEYXRhKTtcbiAgfTtcblxuICByZXR1cm4gR2FtZUxvZ2ljO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWVMb2dpYztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwzUmhiM2QxTDNOMGRXUjVMMEZ5YTJGa0wwRnlhMkZrUjJGdFpTOXpjbU12WTI5dWRISnZiQzlCY210SFlXMWxURzluYVdNdVkyOW1abVZsSWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUwxVnpaWEp6TDNSaGIzZDFMM04wZFdSNUwwRnlhMkZrTDBGeWEyRmtSMkZ0WlM5emNtTXZZMjl1ZEhKdmJDOUJjbXRIWVcxbFRHOW5hV011WTI5bVptVmxJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCTEVsQlFVRTdPMEZCUVVFc1dVRkJRU3hIUVVGclFpeFBRVUZCTEVOQlFWRXNhVU5CUVZJN08wRkJRMnhDTEZsQlFVRXNSMEZCYTBJc1QwRkJRU3hEUVVGUkxHbERRVUZTT3p0QlFVTnNRaXhWUVVGQkxFZEJRV3RDTEU5QlFVRXNRMEZCVVN3clFrRkJVanM3UVVGRGJFSXNVVUZCUVN4SFFVRnJRaXhQUVVGQkxFTkJRVkVzTmtKQlFWSTdPMEZCUjFvN096dHpRa0ZEUml4SlFVRkJMRWRCUVUwc1UwRkJRVHRKUVVOR0xFbEJRVU1zUTBGQlFTeFRRVUZFTEVkQlFXRXNTVUZCU1N4UlFVRktMRU5CUVVFN1YwRkRZaXhKUVVGRExFTkJRVUVzWlVGQlJDeERRVUZCTzBWQlJrVTdPM05DUVVsT0xHVkJRVUVzUjBGQmFVSXNVMEZCUVR0SlFVTmlMRmxCUVZrc1EwRkJReXhOUVVGaUxFTkJRVzlDTEZWQlFWVXNRMEZCUXl4VlFVRXZRaXhGUVVFeVF5eERRVUZCTEZOQlFVRXNTMEZCUVR0aFFVRkJMRk5CUVVFN1VVRkRka01zUzBGQlF5eERRVUZCTEZOQlFWTXNRMEZCUXl4UlFVRllMRU5CUVc5Q0xFTkJRWEJDTzFGQlEwRXNTMEZCUXl4RFFVRkJMRk5CUVZNc1EwRkJReXhSUVVGWUxFTkJRVzlDTEVWQlFYQkNPMlZCUTBFc1MwRkJReXhEUVVGQkxGVkJRVVFzUTBGQlFUdE5RVWgxUXp0SlFVRkJMRU5CUVVFc1EwRkJRU3hEUVVGQkxFbEJRVUVzUTBGQk0wTTdTVUZOUVN4WlFVRlpMRU5CUVVNc1RVRkJZaXhEUVVGdlFpeFZRVUZWTEVOQlFVTXNVVUZCTDBJc1JVRkJlVU1zUTBGQlFTeFRRVUZCTEV0QlFVRTdZVUZCUVN4VFFVRkJPMEZCUTNKRExGbEJRVUU3VVVGQlFTeFpRVUZaTEVOQlFVTXNZMEZCWWl4RFFVRkJPMUZCUTBFc1ZVRkJRU3hIUVVGaExHRkJRV0VzUTBGQlF5eFZRVUZrTEVOQlFVRTdVVUZEWWl4WlFVRlpMRU5CUVVNc1pVRkJZaXhEUVVFMlFpeFZRVUUzUWp0bFFVTkJMRlZCUVZVc1EwRkJReXhWUVVGVkxFTkJRVU1zU1VGQmRFSXNRMEZCTWtJc1MwRkJReXhEUVVGQkxGTkJRVk1zUTBGQlF5eFJRVUZZTEVOQlFVRXNRMEZCTTBJN1RVRktjVU03U1VGQlFTeERRVUZCTEVOQlFVRXNRMEZCUVN4SlFVRkJMRU5CUVhwRE8xZEJUMEVzV1VGQldTeERRVUZETEUxQlFXSXNRMEZCYjBJc1ZVRkJWU3hEUVVGRExHVkJRUzlDTEVWQlFXZEVMRU5CUVVFc1UwRkJRU3hMUVVGQk8yRkJRVUVzVTBGQlFUdFJRVU0xUXl4WlFVRlpMRU5CUVVNc1kwRkJZaXhEUVVGQk8xRkJRMEVzUzBGQlF5eERRVUZCTEZOQlFWTXNRMEZCUXl4UlFVRllMRU5CUVc5Q0xFVkJRWEJDTzJWQlEwRXNTMEZCUXl4RFFVRkJMRlZCUVVRc1EwRkJRVHROUVVnMFF6dEpRVUZCTEVOQlFVRXNRMEZCUVN4RFFVRkJMRWxCUVVFc1EwRkJhRVE3UlVGa1lUczdjMEpCY1VKcVFpeFZRVUZCTEVkQlFWa3NVMEZCUVR0QlFVTlNMRkZCUVVFN1NVRkJRU3hWUVVGQkxFZEJRV0VzVlVGQlZTeERRVUZETEZWQlFWZ3NRMEZCUVR0SlFVTmlMRmxCUVZrc1EwRkJReXhsUVVGaUxFTkJRVFpDTEZWQlFUZENPMWRCUTBFc1ZVRkJWU3hEUVVGRExGVkJRVlVzUTBGQlF5eEpRVUYwUWl4RFFVRXlRaXhKUVVGRExFTkJRVUVzVTBGQk5VSTdSVUZJVVRzN096czdPMEZCVFdoQ0xFMUJRVTBzUTBGQlF5eFBRVUZRTEVkQlFXbENJbjA9XG4iLCJ2YXIgRXZlbnRNYW5hZ2VyO1xuXG5FdmVudE1hbmFnZXIgPSB7XG4gIHNlbmQ6IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgIHZhciBldmVudDtcbiAgICBldmVudCA9IG5ldyBjYy5FdmVudEN1c3RvbShldmVudE5hbWUpO1xuICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICBldmVudC5zZXRVc2VyRGF0YShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGNjLmV2ZW50TWFuYWdlci5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgbGlzdGVuOiBmdW5jdGlvbihldmVudE5hbWUsIGxpc3RlbkZ1bmMsIG5vZGVPclByaW9yaXR5KSB7XG4gICAgdmFyIGNjTGlzdGVuZXI7XG4gICAgaWYgKG5vZGVPclByaW9yaXR5ID09IG51bGwpIHtcbiAgICAgIG5vZGVPclByaW9yaXR5ID0gMTtcbiAgICB9XG4gICAgY2NMaXN0ZW5lciA9IGNjLkV2ZW50TGlzdGVuZXIuY3JlYXRlKHtcbiAgICAgIGV2ZW50OiBjYy5FdmVudExpc3RlbmVyLkNVU1RPTSxcbiAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5GdW5jKGV2ZW50LmdldFVzZXJEYXRhKCksIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2MuZXZlbnRNYW5hZ2VyLmFkZExpc3RlbmVyKGNjTGlzdGVuZXIsIG5vZGVPclByaW9yaXR5KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudE1hbmFnZXI7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdlpYWmxiblF2UVhKclJYWmxiblJOWVc1aFoyVnlMbU52Wm1abFpTSXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OTBZVzkzZFM5emRIVmtlUzlCY210aFpDOUJjbXRoWkVkaGJXVXZjM0pqTDJWMlpXNTBMMEZ5YTBWMlpXNTBUV0Z1WVdkbGNpNWpiMlptWldVaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRXNTVUZCUVRzN1FVRkJRU3haUVVGQkxFZEJRMGs3UlVGQlFTeEpRVUZCTEVWQlFVMHNVMEZCUXl4VFFVRkVMRVZCUVZrc1NVRkJXanRCUVVOR0xGRkJRVUU3U1VGQlFTeExRVUZCTEVkQlFWRXNTVUZCU1N4RlFVRkZMRU5CUVVNc1YwRkJVQ3hEUVVGdFFpeFRRVUZ1UWp0SlFVTlNMRWxCUVVrc1NVRkJRU3hMUVVGUkxFbEJRVm83VFVGRFNTeExRVUZMTEVOQlFVTXNWMEZCVGl4RFFVRnJRaXhKUVVGc1FpeEZRVVJLT3p0WFFVVkJMRVZCUVVVc1EwRkJReXhaUVVGWkxFTkJRVU1zWVVGQmFFSXNRMEZCT0VJc1MwRkJPVUk3UlVGS1JTeERRVUZPTzBWQlMwRXNUVUZCUVN4RlFVRlJMRk5CUVVNc1UwRkJSQ3hGUVVGWkxGVkJRVm9zUlVGQmQwSXNZMEZCZUVJN1FVRkRTaXhSUVVGQk96dE5RVUZCTEdsQ1FVRnJRanM3U1VGRGJFSXNWVUZCUVN4SFFVRmhMRVZCUVVVc1EwRkJReXhoUVVGaExFTkJRVU1zVFVGQmFrSXNRMEZEVkR0TlFVRkJMRXRCUVVFc1JVRkJUeXhGUVVGRkxFTkJRVU1zWVVGQllTeERRVUZETEUxQlFYaENPMDFCUTBFc1UwRkJRU3hGUVVGWExGTkJSRmc3VFVGRlFTeFJRVUZCTEVWQlFWVXNVMEZCUXl4TFFVRkVPMEZCUTA0c1pVRkJUeXhWUVVGQkxFTkJRVmNzUzBGQlN5eERRVUZETEZkQlFVNHNRMEZCUVN4RFFVRllMRVZCUVdkRExFdEJRV2hETzAxQlJFUXNRMEZHVmp0TFFVUlRPMWRCVFdJc1JVRkJSU3hEUVVGRExGbEJRVmtzUTBGQlF5eFhRVUZvUWl4RFFVRTBRaXhWUVVFMVFpeEZRVUYzUXl4alFVRjRRenRGUVZKSkxFTkJURkk3T3p0QlFXTktMRTFCUVUwc1EwRkJReXhQUVVGUUxFZEJRV2xDSW4wPVxuIiwidmFyIEV2ZW50TmFtZXM7XG5cbkV2ZW50TmFtZXMgPSB7XG4gIEdBTUVfU1RBUlQ6IFwiZ2FtZS5zdGFydFwiLFxuICBHQU1FX0VORDogXCJnYW1lLmVuZFwiLFxuICBHQU1FX05FWFRfTEVWRUw6IFwiZ2FtZS5uZXh0LmxldmVsXCJcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnROYW1lcztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwzUmhiM2QxTDNOMGRXUjVMMEZ5YTJGa0wwRnlhMkZrUjJGdFpTOXpjbU12WlhabGJuUXZRWEpyUlhabGJuUk9ZVzFsY3k1amIyWm1aV1VpTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdlZYTmxjbk12ZEdGdmQzVXZjM1IxWkhrdlFYSnJZV1F2UVhKcllXUkhZVzFsTDNOeVl5OWxkbVZ1ZEM5QmNtdEZkbVZ1ZEU1aGJXVnpMbU52Wm1abFpTSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hKUVVGQk96dEJRVUZCTEZWQlFVRXNSMEZEU1R0RlFVRkJMRlZCUVVFc1JVRkJhMElzV1VGQmJFSTdSVUZEUVN4UlFVRkJMRVZCUVd0Q0xGVkJSR3hDTzBWQlJVRXNaVUZCUVN4RlFVRnJRaXhwUWtGR2JFSTdPenRCUVVsS0xFMUJRVTBzUTBGQlF5eFBRVUZRTEVkQlFXbENJbjA9XG4iLCJjYy5nYW1lLm9uU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIEdhbWVMb2dpYywgZ2FtZURpYWxvZywgZ2FtZUxvZ2ljT2JqLCBzY2VuZU1hbmFnZXI7XG4gIGNjLnZpZXcuYWRqdXN0Vmlld1BvcnQodHJ1ZSk7XG4gIGNjLnZpZXcuc2V0RGVzaWduUmVzb2x1dGlvblNpemUoNjQwLCAxMTM2LCBjYy5SZXNvbHV0aW9uUG9saWN5LlNIT1dfQUxMKTtcbiAgY2Mudmlldy5yZXNpemVXaXRoQnJvd3NlclNpemUodHJ1ZSk7XG4gIGNjLkJ1aWxkZXJSZWFkZXIuc2V0UmVzb3VyY2VQYXRoKFwicmVzL1wiKTtcbiAgc2NlbmVNYW5hZ2VyID0gcmVxdWlyZShcIi4vdG9vbHMvQXJrU2NlbmVNYW5hZ2VyLmNvZmZlZVwiKTtcbiAgc2NlbmVNYW5hZ2VyLmluaXQoKTtcbiAgZ2FtZURpYWxvZyA9IHJlcXVpcmUoJy4vY2NiVmlldy9BcmtNYWluRGlhbG9nLmNvZmZlZScpO1xuICBzY2VuZU1hbmFnZXIuYWRkTGF5ZXJUb1NjZW5lKGdhbWVEaWFsb2cpO1xuICBHYW1lTG9naWMgPSByZXF1aXJlKCcuL2NvbnRyb2wvQXJrR2FtZUxvZ2ljLmNvZmZlZScpO1xuICBnYW1lTG9naWNPYmogPSBuZXcgR2FtZUxvZ2ljKCk7XG4gIHJldHVybiBnYW1lTG9naWNPYmouaW5pdCgpO1xufTtcblxuY2MuZ2FtZS5ydW4oKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwzUmhiM2QxTDNOMGRXUjVMMEZ5YTJGa0wwRnlhMkZrUjJGdFpTOXpjbU12YldGcGJpNWpiMlptWldVaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXZWWE5sY25NdmRHRnZkM1V2YzNSMVpIa3ZRWEpyWVdRdlFYSnJZV1JIWVcxbEwzTnlZeTl0WVdsdUxtTnZabVpsWlNKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFTeEZRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTlCUVZJc1IwRkJhMElzVTBGQlFUdEJRVU5rTEUxQlFVRTdSVUZCUVN4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExHTkJRVklzUTBGQmRVSXNTVUZCZGtJN1JVRkRRU3hGUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEhWQ1FVRlNMRU5CUVdkRExFZEJRV2hETEVWQlFYRkRMRWxCUVhKRExFVkJRVEpETEVWQlFVVXNRMEZCUXl4blFrRkJaMElzUTBGQlF5eFJRVUV2UkR0RlFVTkJMRVZCUVVVc1EwRkJReXhKUVVGSkxFTkJRVU1zY1VKQlFWSXNRMEZCT0VJc1NVRkJPVUk3UlVGRFFTeEZRVUZGTEVOQlFVTXNZVUZCWVN4RFFVRkRMR1ZCUVdwQ0xFTkJRV2xETEUxQlFXcERPMFZCUlVFc1dVRkJRU3hIUVVGbExFOUJRVUVzUTBGQlVTeG5RMEZCVWp0RlFVTm1MRmxCUVZrc1EwRkJReXhKUVVGaUxFTkJRVUU3UlVGRlFTeFZRVUZCTEVkQlFXRXNUMEZCUVN4RFFVRlJMR2REUVVGU08wVkJRMklzV1VGQldTeERRVUZETEdWQlFXSXNRMEZCTmtJc1ZVRkJOMEk3UlVGRlFTeFRRVUZCTEVkQlFWa3NUMEZCUVN4RFFVRlJMQ3RDUVVGU08wVkJRMW9zV1VGQlFTeEhRVUZsTEVsQlFVa3NVMEZCU2l4RFFVRkJPMU5CUTJZc1dVRkJXU3hEUVVGRExFbEJRV0lzUTBGQlFUdEJRV1JqT3p0QlFXZENiRUlzUlVGQlJTeERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRlNMRU5CUVVFaWZRPT1cbiIsInZhciBVc2VyRGF0YTtcblxuVXNlckRhdGEgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFVzZXJEYXRhKCkge1xuICAgIHRoaXMuX3Njb3JlID0gMDtcbiAgICB0aGlzLl9jb3VudCA9IDA7XG4gIH1cblxuICBVc2VyRGF0YS5wcm90b3R5cGUuc2V0U2NvcmUgPSBmdW5jdGlvbihfc2NvcmUpIHtcbiAgICB0aGlzLl9zY29yZSA9IF9zY29yZTtcbiAgfTtcblxuICBVc2VyRGF0YS5wcm90b3R5cGUuZ2V0U2NvcmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NvcmU7XG4gIH07XG5cbiAgVXNlckRhdGEucHJvdG90eXBlLnNldENvdW50ID0gZnVuY3Rpb24oX2NvdW50KSB7XG4gICAgdGhpcy5fY291bnQgPSBfY291bnQ7XG4gIH07XG5cbiAgVXNlckRhdGEucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvdW50O1xuICB9O1xuXG4gIHJldHVybiBVc2VyRGF0YTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyRGF0YTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwzUmhiM2QxTDNOMGRXUjVMMEZ5YTJGa0wwRnlhMkZrUjJGdFpTOXpjbU12Ylc5a1pXd3ZRWEpyVlhObGNrUmhkR0V1WTI5bVptVmxJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTWlPbHNpTDFWelpYSnpMM1JoYjNkMUwzTjBkV1I1TDBGeWEyRmtMMEZ5YTJGa1IyRnRaUzl6Y21NdmJXOWtaV3d2UVhKclZYTmxja1JoZEdFdVkyOW1abVZsSWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQkxFbEJRVUU3TzBGQlFVMDdSVUZEVnl4clFrRkJRVHRKUVVOVUxFbEJRVU1zUTBGQlFTeE5RVUZFTEVkQlFWVTdTVUZEVml4SlFVRkRMRU5CUVVFc1RVRkJSQ3hIUVVGVk8wVkJSa1E3TzNGQ1FVbGlMRkZCUVVFc1IwRkJWU3hUUVVGRExFMUJRVVE3U1VGQlF5eEpRVUZETEVOQlFVRXNVMEZCUkR0RlFVRkVPenR4UWtGRlZpeFJRVUZCTEVkQlFWVXNVMEZCUVR0WFFVRkhMRWxCUVVNc1EwRkJRVHRGUVVGS096dHhRa0ZGVml4UlFVRkJMRWRCUVZVc1UwRkJReXhOUVVGRU8wbEJRVU1zU1VGQlF5eERRVUZCTEZOQlFVUTdSVUZCUkRzN2NVSkJSVllzVVVGQlFTeEhRVUZWTEZOQlFVRTdWMEZCUnl4SlFVRkRMRU5CUVVFN1JVRkJTanM3T3pzN08wRkJSV1FzVFVGQlRTeERRVUZETEU5QlFWQXNSMEZCYVVJaWZRPT1cbiIsInZhciBMYXllck1hbmFnZXIsIExvYWRlcjtcblxuTGF5ZXJNYW5hZ2VyID0ge1xuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheWVyU3RhY2sgPSBbXTtcbiAgICB0aGlzLnNjZW5lID0gbmV3IGNjLlNjZW5lKCk7XG4gICAgcmV0dXJuIGNjLmRpcmVjdG9yLnJ1blNjZW5lKHRoaXMuc2NlbmUpO1xuICB9LFxuICBjbGVhckxheWVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNjZW5lLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJTdGFjay5sZW5ndGggPSAwO1xuICB9LFxuICBhZGRMYXllclRvU2NlbmU6IGZ1bmN0aW9uKGNjYkxheWVyLCB6T3JkZXIpIHtcbiAgICB2YXIgbGF5b3V0LCBub2RlO1xuICAgIGlmICh6T3JkZXIgPT0gbnVsbCkge1xuICAgICAgek9yZGVyID0gMDtcbiAgICB9XG4gICAgbGF5b3V0ID0gbmV3IGNjdWkuTGF5b3V0KCk7XG4gICAgbGF5b3V0LnNldENvbnRlbnRTaXplKGNjLnNpemUoMTEzNiwgNjQwKSk7XG4gICAgbGF5b3V0LnNldFRvdWNoRW5hYmxlZCh0cnVlKTtcbiAgICBub2RlID0gbmV3IGNjLk5vZGUoKTtcbiAgICBub2RlLmFkZENoaWxkKGxheW91dCk7XG4gICAgbm9kZS5hZGRDaGlsZChjY2JMYXllcik7XG4gICAgdGhpcy5zY2VuZS5hZGRDaGlsZChub2RlLCB6T3JkZXIpO1xuICAgIHJldHVybiB0aGlzLmxheWVyU3RhY2sucHVzaChub2RlKTtcbiAgfSxcbiAgcmVtb3ZlVG9wTGF5ZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b3BMYXllcjtcbiAgICB0b3BMYXllciA9IHRoaXMubGF5ZXJTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gdGhpcy5zY2VuZS5yZW1vdmVDaGlsZCh0b3BMYXllciwgdHJ1ZSk7XG4gIH1cbn07XG5cbkxvYWRlciA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gTG9hZGVyKGNjYkZpbGUxLCBjb250cm9sbGVyTmFtZTEpIHtcbiAgICB0aGlzLmNjYkZpbGUgPSBjY2JGaWxlMTtcbiAgICB0aGlzLmNvbnRyb2xsZXJOYW1lID0gY29udHJvbGxlck5hbWUxO1xuICB9XG5cbiAgTG9hZGVyLnByb3RvdHlwZS5zaG93RGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGNjLkJ1aWxkZXJSZWFkZXIubG9hZCh0aGlzLmNjYkZpbGUpO1xuICB9O1xuXG4gIHJldHVybiBMb2FkZXI7XG5cbn0pKCk7XG5cbkxheWVyTWFuYWdlci5kZWZpbmVEaWFsb2cgPSBmdW5jdGlvbihjY2JGaWxlLCBjb250cm9sbGVyTmFtZSwgY29udHJvbGxlckNsYXNzKSB7XG4gIGNjLkJ1aWxkZXJSZWFkZXIucmVnaXN0ZXJDb250cm9sbGVyKGNvbnRyb2xsZXJOYW1lLCBuZXcgY29udHJvbGxlckNsYXNzKCkpO1xuICByZXR1cm4gbmV3IExvYWRlcihjY2JGaWxlLCBjb250cm9sbGVyTmFtZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheWVyTWFuYWdlcjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwzUmhiM2QxTDNOMGRXUjVMMEZ5YTJGa0wwRnlhMkZrUjJGdFpTOXpjbU12ZEc5dmJITXZRWEpyVTJObGJtVk5ZVzVoWjJWeUxtTnZabVpsWlNJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5MFlXOTNkUzl6ZEhWa2VTOUJjbXRoWkM5QmNtdGhaRWRoYldVdmMzSmpMM1J2YjJ4ekwwRnlhMU5qWlc1bFRXRnVZV2RsY2k1amIyWm1aV1VpWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUTBFc1NVRkJRVHM3UVVGQlFTeFpRVUZCTEVkQlEwazdSVUZCUVN4SlFVRkJMRVZCUVUwc1UwRkJRVHRKUVVOR0xFbEJRVU1zUTBGQlFTeFZRVUZFTEVkQlFXTTdTVUZEWkN4SlFVRkRMRU5CUVVFc1MwRkJSQ3hIUVVGVExFbEJRVWtzUlVGQlJTeERRVUZETEV0QlFWQXNRMEZCUVR0WFFVTlVMRVZCUVVVc1EwRkJReXhSUVVGUkxFTkJRVU1zVVVGQldpeERRVUZ4UWl4SlFVRkRMRU5CUVVFc1MwRkJkRUk3UlVGSVJTeERRVUZPTzBWQlMwRXNWVUZCUVN4RlFVRlpMRk5CUVVFN1NVRkRVaXhKUVVGRExFTkJRVUVzUzBGQlN5eERRVUZETEdsQ1FVRlFMRU5CUVVFN1YwRkRRU3hKUVVGRExFTkJRVUVzVlVGQlZTeERRVUZETEUxQlFWb3NSMEZCY1VJN1JVRkdZaXhEUVV4YU8wVkJVMEVzWlVGQlFTeEZRVUZyUWl4VFFVRkRMRkZCUVVRc1JVRkJWeXhOUVVGWU8wRkJRMlFzVVVGQlFUczdUVUZFZVVJc1UwRkJVenM3U1VGRGJFTXNUVUZCUVN4SFFVRlRMRWxCUVVrc1NVRkJTU3hEUVVGRExFMUJRVlFzUTBGQlFUdEpRVU5VTEUxQlFVMHNRMEZCUXl4alFVRlFMRU5CUVhOQ0xFVkJRVVVzUTBGQlF5eEpRVUZJTEVOQlFWRXNTVUZCVWl4RlFVRmpMRWRCUVdRc1EwRkJkRUk3U1VGRFFTeE5RVUZOTEVOQlFVTXNaVUZCVUN4RFFVRjFRaXhKUVVGMlFqdEpRVVZCTEVsQlFVRXNSMEZCVFN4SlFVRkpMRVZCUVVVc1EwRkJReXhKUVVGUUxFTkJRVUU3U1VGRFRpeEpRVUZKTEVOQlFVTXNVVUZCVEN4RFFVRmpMRTFCUVdRN1NVRkRRU3hKUVVGSkxFTkJRVU1zVVVGQlRDeERRVUZqTEZGQlFXUTdTVUZGUVN4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRExGRkJRVkFzUTBGQlowSXNTVUZCYUVJc1JVRkJjMElzVFVGQmRFSTdWMEZEUVN4SlFVRkRMRU5CUVVFc1ZVRkJWU3hEUVVGRExFbEJRVm9zUTBGQmFVSXNTVUZCYWtJN1JVRldZeXhEUVZSc1FqdEZRWEZDUVN4alFVRkJMRVZCUVdkQ0xGTkJRVUU3UVVGRFdpeFJRVUZCTzBsQlFVRXNVVUZCUVN4SFFVRlhMRWxCUVVNc1EwRkJRU3hWUVVGVkxFTkJRVU1zUjBGQldpeERRVUZCTzFkQlExZ3NTVUZCUXl4RFFVRkJMRXRCUVVzc1EwRkJReXhYUVVGUUxFTkJRVzFDTEZGQlFXNUNMRVZCUVRaQ0xFbEJRVGRDTzBWQlJsa3NRMEZ5UW1oQ096czdRVUY1UWtVN1JVRkRWeXhuUWtGQlF5eFJRVUZFTEVWQlFWY3NaVUZCV0R0SlFVRkRMRWxCUVVNc1EwRkJRU3hWUVVGRU8wbEJRVlVzU1VGQlF5eERRVUZCTEdsQ1FVRkVPMFZCUVZnN08yMUNRVU5pTEZWQlFVRXNSMEZCWVN4VFFVRkJPMWRCUTFRc1JVRkJSU3hEUVVGRExHRkJRV0VzUTBGQlF5eEpRVUZxUWl4RFFVRnpRaXhKUVVGRExFTkJRVUVzVDBGQmRrSTdSVUZFVXpzN096czdPMEZCUjJwQ0xGbEJRVmtzUTBGQlF5eFpRVUZpTEVkQlFUUkNMRk5CUVVNc1QwRkJSQ3hGUVVGVkxHTkJRVllzUlVGQk1FSXNaVUZCTVVJN1JVRkRlRUlzUlVGQlJTeERRVUZETEdGQlFXRXNRMEZCUXl4clFrRkJha0lzUTBGRFNTeGpRVVJLTEVWQlJVa3NTVUZCU1N4bFFVRktMRU5CUVVFc1EwRkdTanRUUVV0QkxFbEJRVWtzVFVGQlNpeERRVUZYTEU5QlFWZ3NSVUZCYjBJc1kwRkJjRUk3UVVGT2QwSTdPMEZCVVRWQ0xFMUJRVTBzUTBGQlF5eFBRVUZRTEVkQlFXbENJbjA9XG4iXX0=
